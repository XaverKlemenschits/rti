externalproject_add (
  rinside-external
  GIT_REPOSITORY https://github.com/eddelbuettel/rinside.git
  # hash of release 0.2.16
  GIT_TAG da7207e018f61acc1b800282968518a4efccf7ba
  CMAKE_ARGS
    -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR>
    -DCMAKE_C_COMPILER=${CMAKE_C_COMPILER}
    -DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER}
    -DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD}
    -DCMAKE_CXX_EXTENSIONS=${CMAKE_CXX_EXTENSIONS}
    -DCMAKE_CXX_STANDARD_REQUIRED=${CMAKE_CXX_STANDARD_REQUIRED}
  CMAKE_CACHE_ARGS
    #-DCMAKE_CXX_FLAGS:STRING=${CMAKE_CXX_FLAGS}
    -DCMAKE_PREFIX_PATH:PATH=${CMAKE_PREFIX_PATH}
  USES_TERMINAL_DOWNLOAD 1
  USES_TERMINAL_UPDATE 1
  GIT_PROGRESS 1
  UPDATE_COMMAND ""
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""
  )

externalproject_get_property (
  rinside-external
  SOURCE_DIR
  )
set (
  RINSIDE_DIR "${SOURCE_DIR}"
  CACHE PATH "Path to RInside"
  FORCE
  )
unset(SOURCE_DIR)
message(STATUS "RINSIDE_DIR == ${RINSIDE_DIR}")

message("Foo")

find_path(
  RINSIDE_INCLUDE_DIRS
  "RInside.h"
  PATHS ${RINSIDE_DIR}
  PATH_SUFFIX "inst"
  NO_DEFAULT_PATH
  )
message(STATUS "RINSIDE_INCLUDE_DIRS == ${RINSIDE_INCLUDE_DIRS}")


